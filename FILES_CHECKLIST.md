# ğŸ“‹ éƒ¨ç½²æ–‡ä»¶æ¸…å•

## ğŸ¯ éœ€è¦ä¸Šä¼ åˆ°ç¾¤æ™–çš„æ–‡ä»¶

### ğŸ“ å®Œæ•´é¡¹ç›®ç»“æ„
```
parking-system/
â”œâ”€â”€ ğŸ“‚ client/                          # å‰ç«¯æºç ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“‚ public/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ ğŸ“‚ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ components/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ pages/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ styles/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ utils/
â”‚   â”‚   â”œâ”€â”€ App.js
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â””â”€â”€ index.css
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ package-lock.json
â”‚   â””â”€â”€ .env
â”œâ”€â”€ ğŸ“‚ server/                          # åç«¯æºç ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“‚ config/
â”‚   â”‚   â””â”€â”€ database.js
â”‚   â”œâ”€â”€ ğŸ“‚ middleware/
â”‚   â”‚   â””â”€â”€ auth.js
â”‚   â”œâ”€â”€ ğŸ“‚ routes/
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”œâ”€â”€ vehicles.js
â”‚   â”‚   â””â”€â”€ violations.js
â”‚   â”œâ”€â”€ ğŸ“‚ utils/
â”‚   â”‚   â””â”€â”€ vehicleHelper.js
â”‚   â”œâ”€â”€ ğŸ“‚ uploads/                     # ä¸Šä¼ æ–‡ä»¶ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ debug-db.js
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ package-lock.json
â”‚   â””â”€â”€ .env
â”œâ”€â”€ ğŸ“‚ database/                        # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â””â”€â”€ init.sql
â”œâ”€â”€ ğŸ³ docker-compose.yml              # Docker ç¼–æ’æ–‡ä»¶
â”œâ”€â”€ ğŸ³ docker-compose.prod.yml         # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ ğŸ³ Dockerfile.client               # å‰ç«¯ Docker æ–‡ä»¶
â”œâ”€â”€ ğŸ³ Dockerfile.server               # åç«¯ Docker æ–‡ä»¶
â”œâ”€â”€ ğŸ³ .dockerignore                   # Docker å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ âš™ï¸ nginx.conf                      # Nginx é…ç½®
â”œâ”€â”€ âš™ï¸ .env.docker                     # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ âš™ï¸ healthcheck.js                  # å¥åº·æ£€æŸ¥è„šæœ¬
â”œâ”€â”€ ğŸš€ synology-deploy.sh              # ç¾¤æ™–éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ ğŸš€ deploy.sh                       # é€šç”¨éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ ğŸš€ manage.sh                       # ç®¡ç†è„šæœ¬
â”œâ”€â”€ ğŸ“– README.md                       # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ ğŸ“– DEPLOYMENT.md                   # éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ ğŸ“– DOCKER_QUICK_START.md           # Docker å¿«é€Ÿå¼€å§‹
â”œâ”€â”€ ğŸ“– SYNOLOGY_DEPLOYMENT_GUIDE.md    # ç¾¤æ™–éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ ğŸ“– FILES_CHECKLIST.md              # æ–‡ä»¶æ¸…å•ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ package.json                       # æ ¹ç›®å½•åŒ…é…ç½®
â””â”€â”€ package-lock.json                  # æ ¹ç›®å½•åŒ…é”å®š
```

## ğŸ¯ ç¾¤æ™–ç›®å½•å»ºè®®

### æ¨èè·¯å¾„
```
/volume1/docker/parking-system/
```

### åˆ›å»ºæ­¥éª¤
1. æ‰“å¼€ **File Station**
2. å¯¼èˆªåˆ°æ ¹ç›®å½• `/`
3. å¦‚æœæ²¡æœ‰ `docker` æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºå®ƒ
4. åœ¨ `docker` æ–‡ä»¶å¤¹å†…åˆ›å»º `parking-system` æ–‡ä»¶å¤¹

## ğŸ“¦ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### ğŸ³ Docker ç›¸å…³æ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰
- `docker-compose.yml` - ä¸»è¦çš„ Docker ç¼–æ’æ–‡ä»¶
- `Dockerfile.client` - å‰ç«¯å®¹å™¨æ„å»ºæ–‡ä»¶
- `Dockerfile.server` - åç«¯å®¹å™¨æ„å»ºæ–‡ä»¶
- `nginx.conf` - Web æœåŠ¡å™¨é…ç½®
- `.dockerignore` - Docker æ„å»ºå¿½ç•¥æ–‡ä»¶

### âš™ï¸ é…ç½®æ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰
- `.env.docker` - ç¯å¢ƒå˜é‡æ¨¡æ¿ï¼ˆéœ€è¦å¤åˆ¶ä¸º `.env`ï¼‰
- `healthcheck.js` - å®¹å™¨å¥åº·æ£€æŸ¥è„šæœ¬

### ğŸš€ éƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼‰
- `synology-deploy.sh` - ç¾¤æ™–ä¸“ç”¨ä¸€é”®éƒ¨ç½²è„šæœ¬
- `deploy.sh` - é€šç”¨éƒ¨ç½²è„šæœ¬
- `manage.sh` - æ—¥å¸¸ç®¡ç†è„šæœ¬

### ğŸ“‚ æºç ç›®å½•ï¼ˆå¿…éœ€ï¼‰
- `client/` - å®Œæ•´çš„å‰ç«¯ React åº”ç”¨
- `server/` - å®Œæ•´çš„åç«¯ Node.js åº”ç”¨
- `database/` - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

### ğŸ“– æ–‡æ¡£æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
- `README.md` - é¡¹ç›®ä»‹ç»
- `DEPLOYMENT.md` - è¯¦ç»†éƒ¨ç½²æ–‡æ¡£
- `DOCKER_QUICK_START.md` - Docker å¿«é€Ÿå¼€å§‹
- `SYNOLOGY_DEPLOYMENT_GUIDE.md` - ç¾¤æ™–éƒ¨ç½²æŒ‡å—

## ğŸ”„ ä¸Šä¼ æ–¹å¼

### æ–¹å¼ä¸€ï¼šFile Station ä¸Šä¼ ï¼ˆç®€å•ï¼‰
1. æ‰“å¼€ç¾¤æ™– DSM
2. å¯åŠ¨ File Station
3. å¯¼èˆªåˆ° `/docker/`
4. åˆ›å»º `parking-system` æ–‡ä»¶å¤¹
5. å°†æ‰€æœ‰æ–‡ä»¶æ‹–æ‹½ä¸Šä¼ 

### æ–¹å¼äºŒï¼šSSH + SCP ä¸Šä¼ ï¼ˆæ¨èï¼‰
```bash
# åœ¨æœ¬åœ°ç”µè„‘æ‰§è¡Œ
scp -r ./parking-system admin@ç¾¤æ™–IP:/volume1/docker/
```

### æ–¹å¼ä¸‰ï¼šSSH + rsync ä¸Šä¼ ï¼ˆé«˜æ•ˆï¼‰
```bash
# åœ¨æœ¬åœ°ç”µè„‘æ‰§è¡Œ
rsync -avz --progress ./parking-system/ admin@ç¾¤æ™–IP:/volume1/docker/parking-system/
```

## âœ… ä¸Šä¼ åæ£€æŸ¥

### SSH è¿æ¥ç¾¤æ™–æ£€æŸ¥æ–‡ä»¶
```bash
# è¿æ¥ç¾¤æ™–
ssh admin@ç¾¤æ™–IP

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /volume1/docker/parking-system/

# æ£€æŸ¥æ–‡ä»¶ç»“æ„
ls -la

# æ£€æŸ¥å…³é”®æ–‡ä»¶
ls -la docker-compose.yml
ls -la Dockerfile.*
ls -la *.sh
ls -la client/
ls -la server/
ls -la database/
```

### è®¾ç½®æ–‡ä»¶æƒé™
```bash
# è®¾ç½®è„šæœ¬æ‰§è¡Œæƒé™
chmod +x *.sh

# è®¾ç½®ä¸Šä¼ ç›®å½•æƒé™
mkdir -p server/uploads
chmod 755 server/uploads

# åˆ›å»ºæ—¥å¿—ç›®å½•
mkdir -p logs
chmod 755 logs
```

## ğŸš¨ é‡è¦æé†’

### å¿…é¡»ä¿®æ”¹çš„æ–‡ä»¶
1. **`.env`** - ä» `.env.docker` å¤åˆ¶å¹¶ä¿®æ”¹æ•°æ®åº“å¯†ç å’Œ JWT å¯†é’¥
2. **`docker-compose.yml`** - å¦‚æœç«¯å£å†²çªéœ€è¦ä¿®æ”¹ç«¯å£æ˜ å°„

### å¯é€‰ä¿®æ”¹çš„æ–‡ä»¶
1. **`nginx.conf`** - å¦‚éœ€è‡ªå®šä¹‰ Web æœåŠ¡å™¨é…ç½®
2. **`docker-compose.prod.yml`** - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨

### ä¸éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶
- `node_modules/` ç›®å½•ï¼ˆä¼šè‡ªåŠ¨å®‰è£…ï¼‰
- `.git/` ç›®å½•ï¼ˆç‰ˆæœ¬æ§åˆ¶ä¿¡æ¯ï¼‰
- æœ¬åœ°çš„ `.env` æ–‡ä»¶ï¼ˆåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼‰
- å¼€å‘æ—¶çš„ä¸´æ—¶æ–‡ä»¶

## ğŸ¯ æœ€å°éƒ¨ç½²æ–‡ä»¶é›†

å¦‚æœåªæƒ³è¦æœ€åŸºæœ¬çš„éƒ¨ç½²ï¼Œè‡³å°‘éœ€è¦è¿™äº›æ–‡ä»¶ï¼š
```
parking-system/
â”œâ”€â”€ client/                    # å®Œæ•´å‰ç«¯ç›®å½•
â”œâ”€â”€ server/                    # å®Œæ•´åç«¯ç›®å½•  
â”œâ”€â”€ database/init.sql          # æ•°æ®åº“åˆå§‹åŒ–
â”œâ”€â”€ docker-compose.yml         # Docker ç¼–æ’
â”œâ”€â”€ Dockerfile.client          # å‰ç«¯å®¹å™¨
â”œâ”€â”€ Dockerfile.server          # åç«¯å®¹å™¨
â”œâ”€â”€ nginx.conf                 # Web æœåŠ¡å™¨é…ç½®
â”œâ”€â”€ .env.docker               # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ healthcheck.js            # å¥åº·æ£€æŸ¥
â””â”€â”€ synology-deploy.sh        # éƒ¨ç½²è„šæœ¬
```

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœåœ¨æ–‡ä»¶ä¸Šä¼ æˆ–éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. **æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§** - ç¡®ä¿æ‰€æœ‰å¿…éœ€æ–‡ä»¶éƒ½å·²ä¸Šä¼ 
2. **æ£€æŸ¥æ–‡ä»¶æƒé™** - ç¡®ä¿è„šæœ¬æ–‡ä»¶æœ‰æ‰§è¡Œæƒé™
3. **æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—** - ä½¿ç”¨ `docker-compose logs` æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
4. **å‚è€ƒæ–‡æ¡£** - æŸ¥çœ‹ `SYNOLOGY_DEPLOYMENT_GUIDE.md` è¯¦ç»†æ­¥éª¤

è®°ä½ï¼šéƒ¨ç½²æˆåŠŸçš„å…³é”®æ˜¯ç¡®ä¿æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨æ­£ç¡®çš„ä½ç½®ï¼Œå¹¶ä¸”é…ç½®æ–‡ä»¶å·²ç»æ­£ç¡®ä¿®æ”¹ï¼